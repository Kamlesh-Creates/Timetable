{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Timetable%20Project/app/manage/timetable/generate/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function GenerateTimetablePage() {\r\n  const [loadingCounts, setLoadingCounts] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [downloadingCurrentPdf, setDownloadingCurrentPdf] = useState(false);\r\n  const [downloadingPdfId, setDownloadingPdfId] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const [timetableData, setTimetableData] = useState(null);\r\n  const [latestTimetableId, setLatestTimetableId] = useState(\"\");\r\n  const [currentDivisionForPdf, setCurrentDivisionForPdf] = useState(\"\");\r\n  const [timetables, setTimetables] = useState([]);\r\n  const [loadingTimetables, setLoadingTimetables] = useState(false);\r\n  const [timetableListError, setTimetableListError] = useState(\"\");\r\n  const [selectedDivisionById, setSelectedDivisionById] = useState({});\r\n\r\n  // Data counts for display\r\n  const [counts, setCounts] = useState({\r\n    classrooms: 0,\r\n    divisions: 0,\r\n    subjects: 0,\r\n    teachers: 0,\r\n    settings: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadCounts();\r\n    loadTimetables();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (timetableData) {\r\n      const firstDivision = Object.keys(timetableData)[0] || \"\";\r\n      setCurrentDivisionForPdf(firstDivision);\r\n    } else {\r\n      setCurrentDivisionForPdf(\"\");\r\n    }\r\n  }, [timetableData]);\r\n\r\n  async function loadCounts() {\r\n    setLoadingCounts(true);\r\n    try {\r\n      const [classroomsRes, divisionsRes, subjectsRes, teachersRes, settingsRes] =\r\n        await Promise.all([\r\n          fetch(\"/api/admin/classrooms\"),\r\n          fetch(\"/api/admin/divisions\"),\r\n          fetch(\"/api/admin/subjects\"),\r\n          fetch(\"/api/admin/teachers\"),\r\n          fetch(\"/api/admin/settings\"),\r\n        ]);\r\n\r\n      const classrooms = await classroomsRes.json();\r\n      const divisions = await divisionsRes.json();\r\n      const subjects = await subjectsRes.json();\r\n      const teachers = await teachersRes.json();\r\n      const settings = await settingsRes.json();\r\n\r\n      setCounts({\r\n        classrooms: classrooms.classrooms?.length || 0,\r\n        divisions: divisions.divisions?.length || 0,\r\n        subjects: subjects.subjects?.length || 0,\r\n        teachers: teachers.teachers?.length || 0,\r\n        settings: !!settings.settings,\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Failed to load counts:\", err);\r\n    } finally {\r\n      setLoadingCounts(false);\r\n    }\r\n  }\r\n\r\n  async function loadTimetables() {\r\n    setLoadingTimetables(true);\r\n    setTimetableListError(\"\");\r\n    try {\r\n      const res = await fetch(\"/api/admin/timetable\");\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setTimetableListError(data.message || \"Failed to load timetables\");\r\n        setTimetables([]);\r\n        return;\r\n      }\r\n      const list = (data.timetables || []).map((tt) => ({\r\n        ...tt,\r\n        result: tt.result || tt.data || {},\r\n      }));\r\n      setTimetables(list);\r\n      setSelectedDivisionById((prev) => {\r\n        const next = { ...prev };\r\n        list.forEach((t) => {\r\n          if (!next[t._id]) {\r\n            next[t._id] = t.divisions?.[0] || \"\";\r\n          }\r\n        });\r\n        return next;\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Failed to load timetables:\", err);\r\n      setTimetableListError(\"Something went wrong while loading timetables.\");\r\n    } finally {\r\n      setLoadingTimetables(false);\r\n    }\r\n  }\r\n\r\n  async function handleGenerate() {\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    setTimetableData(null);\r\n    setGenerating(true);\r\n\r\n    try {\r\n      const res = await fetch(\"/api/timetable/generate\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setError(data.message || \"Failed to generate timetable\");\r\n        setGenerating(false);\r\n        return;\r\n      }\r\n\r\n      setTimetableData(data.timetable);\r\n      setLatestTimetableId(data.timetableId || \"\");\r\n      setSuccess(true);\r\n      setGenerating(false);\r\n      loadTimetables();\r\n    } catch (err) {\r\n      setError(\"Something went wrong. Please try again.\");\r\n      setGenerating(false);\r\n    }\r\n  }\r\n\r\n  async function handleDownloadCurrentPdf() {\r\n    if (!latestTimetableId || !currentDivisionForPdf) {\r\n      alert(\"Select a division before downloading the PDF.\");\r\n      return;\r\n    }\r\n    setDownloadingCurrentPdf(true);\r\n    try {\r\n      const res = await fetch(\r\n        `/api/timetable/${latestTimetableId}/pdf?division=${encodeURIComponent(\r\n          currentDivisionForPdf\r\n        )}`\r\n      );\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        alert(data.message || \"Failed to generate PDF\");\r\n        setDownloadingCurrentPdf(false);\r\n        return;\r\n      }\r\n\r\n      const blob = await res.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `timetable-${currentDivisionForPdf}.pdf`;\r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      alert(\"Failed to generate PDF. Please try again.\");\r\n    } finally {\r\n      setDownloadingCurrentPdf(false);\r\n    }\r\n  }\r\n\r\n  async function handleDownloadPastPdf(timetableId, division) {\r\n    if (!division) {\r\n      alert(\"Select a division to download the PDF.\");\r\n      return;\r\n    }\r\n    setDownloadingPdfId(timetableId);\r\n    try {\r\n      const res = await fetch(\r\n        `/api/timetable/${timetableId}/pdf?division=${encodeURIComponent(division)}`\r\n      );\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        alert(data.message || \"Failed to generate PDF\");\r\n        setDownloadingPdfId(\"\");\r\n        return;\r\n      }\r\n      const blob = await res.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `timetable-${division}.pdf`;\r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      alert(\"Failed to generate PDF. Please try again.\");\r\n    } finally {\r\n      setDownloadingPdfId(\"\");\r\n    }\r\n  }\r\n\r\n  const canGenerate =\r\n    counts.classrooms > 0 &&\r\n    counts.divisions > 0 &&\r\n    counts.subjects > 0 &&\r\n    counts.teachers > 0 &&\r\n    counts.settings;\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-6xl px-4 py-6\">\r\n      <header className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-semibold text-slate-900\">\r\n          Generate Timetable\r\n        </h1>\r\n        <p className=\"text-sm text-slate-600\">\r\n          Collect data from all sections and generate the optimal timetable using\r\n          the Python algorithm.\r\n        </p>\r\n      </header>\r\n\r\n      {/* Data Summary Cards */}\r\n      <section className=\"mb-6 grid gap-4 md:grid-cols-5\">\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.classrooms > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Classrooms\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.classrooms}\r\n          </p>\r\n          {counts.classrooms === 0 && (\r\n            <Link\r\n              href=\"/manage/classrooms/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add classrooms →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.divisions > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Divisions\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.divisions}\r\n          </p>\r\n          {counts.divisions === 0 && (\r\n            <Link\r\n              href=\"/manage/divisions/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add divisions →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.subjects > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Subjects\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.subjects}\r\n          </p>\r\n          {counts.subjects === 0 && (\r\n            <Link\r\n              href=\"/manage/subjects/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add subjects →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.teachers > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Faculty\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.teachers}\r\n          </p>\r\n          {counts.teachers === 0 && (\r\n            <Link\r\n              href=\"/manage/faculty/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add faculty →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.settings\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Settings\r\n          </p>\r\n          <p className=\"mt-1 text-sm font-semibold text-slate-900\">\r\n            {counts.settings ? \"✓ Configured\" : \"✗ Missing\"}\r\n          </p>\r\n          {!counts.settings && (\r\n            <Link\r\n              href=\"/manage/settings\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Configure →\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Generate Section */}\r\n      <section className=\"rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\">\r\n        <div className=\"mb-4\">\r\n          <h2 className=\"text-lg font-semibold text-slate-900\">\r\n            Generate Timetable\r\n          </h2>\r\n          <p className=\"text-sm text-slate-600\">\r\n            This will collect all data from the sections above and send it to the\r\n            Python algorithm server to generate an optimal timetable.\r\n          </p>\r\n        </div>\r\n\r\n        {!canGenerate && (\r\n          <div className=\"mb-4 rounded-md border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800\">\r\n            <p className=\"font-medium\">\r\n              Please configure all required sections before generating the\r\n              timetable.\r\n            </p>\r\n            <ul className=\"mt-2 list-inside list-disc space-y-1 text-xs\">\r\n              {counts.classrooms === 0 && <li>Add at least one classroom</li>}\r\n              {counts.divisions === 0 && <li>Add at least one division</li>}\r\n              {counts.subjects === 0 && <li>Add at least one subject</li>}\r\n              {counts.teachers === 0 && <li>Add at least one faculty member</li>}\r\n              {!counts.settings && <li>Configure timetable settings</li>}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        {error && (\r\n          <div className=\"mb-4 rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800\">\r\n            <p className=\"font-medium\">Error</p>\r\n            <p className=\"mt-1\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {success && timetableData && (\r\n          <div className=\"mb-4 rounded-md border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800\">\r\n            <p className=\"font-medium\">Timetable generated successfully!</p>\r\n            <p className=\"mt-1 text-xs\">\r\n              The timetable has been generated and is displayed below.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleGenerate}\r\n          disabled={!canGenerate || generating}\r\n          className=\"rounded-md bg-[#1A4C8B] px-6 py-3 text-sm font-medium text-white hover:bg-blue-800 disabled:cursor-not-allowed disabled:opacity-50\"\r\n        >\r\n          {generating\r\n            ? \"Generating timetable...\"\r\n            : canGenerate\r\n              ? \"Generate Timetable\"\r\n              : \"Configure all sections first\"}\r\n        </button>\r\n      </section>\r\n\r\n      {/* Timetable Results */}\r\n      {timetableData && (\r\n        <section className=\"mt-6 rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\">\r\n          <div className=\"mb-4 flex items-center justify-between\">\r\n            <h2 className=\"text-lg font-semibold text-slate-900\">\r\n              Generated Timetable\r\n            </h2>\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              <select\r\n                value={currentDivisionForPdf}\r\n                onChange={(e) => setCurrentDivisionForPdf(e.target.value)}\r\n                className=\"rounded-md border border-[#CBD5E1] bg-white px-2 py-2 text-xs text-slate-700\"\r\n              >\r\n                {Object.keys(timetableData).map((divisionKey) => (\r\n                  <option key={divisionKey} value={divisionKey}>\r\n                    {divisionKey}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleDownloadCurrentPdf}\r\n                disabled={downloadingCurrentPdf}\r\n                className=\"rounded-md bg-[#1A4C8B] px-3 py-2 text-xs font-medium text-white hover:bg-blue-800 disabled:opacity-50\"\r\n              >\r\n                {downloadingCurrentPdf ? \"Generating PDF...\" : \"Download PDF\"}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={async () => {\r\n                  if (!latestTimetableId) {\r\n                    alert(\"Generate a timetable first.\");\r\n                    return;\r\n                  }\r\n                  const divisions = Object.keys(timetableData || {});\r\n                  if (!divisions.length) {\r\n                    alert(\"No divisions found in timetable.\");\r\n                    return;\r\n                  }\r\n                  // Sequentially download PDFs for each division\r\n                  for (const div of divisions) {\r\n                    try {\r\n                      const res = await fetch(\r\n                        `/api/timetable/${latestTimetableId}/pdf?division=${encodeURIComponent(\r\n                          div\r\n                        )}`\r\n                      );\r\n                      if (!res.ok) {\r\n                        // Skip this division on error but continue others\r\n                        // eslint-disable-next-line no-console\r\n                        console.error(\"Failed to generate PDF for\", div);\r\n                        continue;\r\n                      }\r\n                      const blob = await res.blob();\r\n                      const url = URL.createObjectURL(blob);\r\n                      const a = document.createElement(\"a\");\r\n                      a.href = url;\r\n                      a.download = `timetable-${div}.pdf`;\r\n                      a.click();\r\n                      URL.revokeObjectURL(url);\r\n                    } catch (e) {\r\n                      // eslint-disable-next-line no-console\r\n                      console.error(\"Error downloading PDF for\", div, e);\r\n                    }\r\n                  }\r\n                }}\r\n                className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50\"\r\n              >\r\n                Download all division PDFs\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  const blob = new Blob([JSON.stringify(timetableData, null, 2)], {\r\n                    type: \"application/json\",\r\n                  });\r\n                  const url = URL.createObjectURL(blob);\r\n                  const a = document.createElement(\"a\");\r\n                  a.href = url;\r\n                  a.download = \"timetable.json\";\r\n                  a.click();\r\n                  URL.revokeObjectURL(url);\r\n                }}\r\n                className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50\"\r\n              >\r\n                Download JSON\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <pre className=\"max-h-96 overflow-auto rounded-md border border-[#E5E7EB] bg-[#F8FAFC] p-4 text-xs\">\r\n              {JSON.stringify(timetableData, null, 2)}\r\n            </pre>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Past Timetables */}\r\n      <section className=\"mt-8 rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\">\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold text-slate-900\">Past Timetables</h2>\r\n            <p className=\"text-sm text-slate-600\">\r\n              Review and download previously generated timetables.\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={loadTimetables}\r\n            className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-100\"\r\n          >\r\n            Refresh list\r\n          </button>\r\n        </div>\r\n\r\n        {timetableListError && (\r\n          <p className=\"mb-3 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">\r\n            {timetableListError}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full text-left text-sm\">\r\n            <thead className=\"border-b border-[#E5E7EB] bg-[#F8FAFC] text-xs font-medium text-slate-600\">\r\n              <tr>\r\n                <th className=\"px-3 py-2\">Generated on</th>\r\n                <th className=\"px-3 py-2\">Divisions</th>\r\n                <th className=\"px-3 py-2\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-[#E5E7EB]\">\r\n              {loadingTimetables ? (\r\n                <tr>\r\n                  <td colSpan={3} className=\"px-3 py-4 text-center text-sm text-slate-500\">\r\n                    Loading timetables…\r\n                  </td>\r\n                </tr>\r\n              ) : timetables.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={3} className=\"px-3 py-4 text-center text-sm text-slate-500\">\r\n                    No timetables generated yet.\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                timetables.map((tt) => (\r\n                  <tr key={tt._id}>\r\n                    <td className=\"px-3 py-2 text-slate-900\">\r\n                      {new Date(tt.generatedAt || tt.createdAt).toLocaleString()}\r\n                    </td>\r\n                    <td className=\"px-3 py-2 text-slate-700\">\r\n                      <div className=\"flex flex-wrap gap-1 text-xs\">\r\n                        {(tt.divisions || []).map((div) => (\r\n                          <span\r\n                            key={div}\r\n                            className=\"rounded-full bg-slate-100 px-2 py-0.5 text-slate-700\"\r\n                          >\r\n                            {div}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-3 py-2 text-xs text-slate-700\">\r\n                      <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n                        <select\r\n                          value={selectedDivisionById[tt._id] || \"\"}\r\n                          onChange={(e) =>\r\n                            setSelectedDivisionById((prev) => ({\r\n                              ...prev,\r\n                              [tt._id]: e.target.value,\r\n                            }))\r\n                          }\r\n                          className=\"rounded-md border border-[#CBD5E1] bg-white px-2 py-1 text-xs text-slate-900\"\r\n                        >\r\n                          <option value=\"\">Select division</option>\r\n                          {(tt.divisions || []).map((div) => (\r\n                            <option key={div} value={div}>\r\n                              {div}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() =>\r\n                            handleDownloadPastPdf(tt._id, selectedDivisionById[tt._id])\r\n                          }\r\n                          disabled={downloadingPdfId === tt._id}\r\n                          className=\"rounded-md bg-[#1A4C8B] px-3 py-1.5 text-white hover:bg-blue-800 disabled:opacity-60\"\r\n                        >\r\n                          {downloadingPdfId === tt._id ? \"Preparing…\" : \"Download PDF\"}\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            const blob = new Blob(\r\n                              [\r\n                                JSON.stringify(\r\n                                  tt.result || tt.data || {},\r\n                                  null,\r\n                                  2\r\n                                ),\r\n                              ],\r\n                              { type: \"application/json\" }\r\n                            );\r\n                            const url = URL.createObjectURL(blob);\r\n                            const a = document.createElement(\"a\");\r\n                            a.href = url;\r\n                            a.download = `timetable-${tt._id}.json`;\r\n                            a.click();\r\n                            URL.revokeObjectURL(url);\r\n                          }}\r\n                          className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-1.5 text-slate-700 hover:bg-slate-50\"\r\n                        >\r\n                          Download JSON\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 979, "column": 0}, "map": {"version":3,"sources":["file:///D:/Timetable%20Project/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}