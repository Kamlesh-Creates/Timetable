{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Timetable/app/manage/settings/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst DAY_OPTIONS = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\r\n\r\nexport default function SettingsPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  const [days, setDays] = useState([\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\"]);\r\n  const [start_hour, setStartHour] = useState(9);\r\n  const [end_hour, setEndHour] = useState(17);\r\n  const [lunch_start_hour, setLunchStartHour] = useState(12);\r\n  \r\n  // Fixed timeslot constraints\r\n  const [mdmSlots, setMdmSlots] = useState([{ day: \"\", time: \"\" }]);\r\n  const [oeDsSlots, setOeDsSlots] = useState([{ day: \"\", time: \"\" }]);\r\n  const [oeEsDay, setOeEsDay] = useState(\"\");\r\n  const [oeEsTime, setOeEsTime] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    async function loadSettings() {\r\n      try {\r\n        const res = await fetch(\"/api/admin/settings\");\r\n        const data = await res.json();\r\n        if (res.ok && data.settings) {\r\n          const s = data.settings;\r\n          setDays(Array.isArray(s.days) && s.days.length > 0 ? s.days : [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\"]);\r\n          setStartHour(s.start_hour != null ? s.start_hour : 9);\r\n          setEndHour(s.end_hour != null ? s.end_hour : 17);\r\n          setLunchStartHour(s.lunch_start_hour != null ? s.lunch_start_hour : 12);\r\n          \r\n          // Load fixed timeslot constraints\r\n          if (s.MDM_time) {\r\n            if (Array.isArray(s.MDM_time) && s.MDM_time.length > 0) {\r\n              setMdmSlots(s.MDM_time.map(slot => ({ day: slot.day || \"\", time: slot.time || \"\" })));\r\n            } else if (typeof s.MDM_time === \"object\" && s.MDM_time.day) {\r\n              // Support legacy single object format\r\n              setMdmSlots([{ day: s.MDM_time.day, time: s.MDM_time.time || \"\" }]);\r\n            }\r\n          }\r\n          if (s[\"OE-DS_time\"] && Array.isArray(s[\"OE-DS_time\"]) && s[\"OE-DS_time\"].length > 0) {\r\n            setOeDsSlots(s[\"OE-DS_time\"].map(slot => ({ day: slot.day || \"\", time: slot.time || \"\" })));\r\n          }\r\n          if (s[\"OE-ES_time\"]) {\r\n            if (typeof s[\"OE-ES_time\"] === \"string\" && s[\"OE-ES_time\"].includes(\"@\")) {\r\n              const [day, time] = s[\"OE-ES_time\"].split(\"@\");\r\n              setOeEsDay(day || \"\");\r\n              setOeEsTime(time || \"\");\r\n            } else if (typeof s[\"OE-ES_time\"] === \"object\" && s[\"OE-ES_time\"].day) {\r\n              setOeEsDay(s[\"OE-ES_time\"].day);\r\n              setOeEsTime(s[\"OE-ES_time\"].time || \"\");\r\n            }\r\n          }\r\n        }\r\n      } catch (err) {\r\n        setError(\"Failed to load settings\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    loadSettings();\r\n  }, []);\r\n\r\n  function handleDayToggle(day) {\r\n    setDays((prev) =>\r\n      prev.includes(day) ? prev.filter((d) => d !== day) : [...prev, day]\r\n    );\r\n  }\r\n\r\n  function addMdmSlot() {\r\n    setMdmSlots([...mdmSlots, { day: \"\", time: \"\" }]);\r\n  }\r\n\r\n  function removeMdmSlot(index) {\r\n    setMdmSlots(mdmSlots.filter((_, i) => i !== index));\r\n  }\r\n\r\n  function updateMdmSlot(index, field, value) {\r\n    const updated = [...mdmSlots];\r\n    updated[index] = { ...updated[index], [field]: value };\r\n    setMdmSlots(updated);\r\n  }\r\n\r\n  function addOeDsSlot() {\r\n    setOeDsSlots([...oeDsSlots, { day: \"\", time: \"\" }]);\r\n  }\r\n\r\n  function removeOeDsSlot(index) {\r\n    setOeDsSlots(oeDsSlots.filter((_, i) => i !== index));\r\n  }\r\n\r\n  function updateOeDsSlot(index, field, value) {\r\n    const updated = [...oeDsSlots];\r\n    updated[index] = { ...updated[index], [field]: value };\r\n    setOeDsSlots(updated);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    setSaving(true);\r\n\r\n    // Build fixed timeslot constraints\r\n    const MDM_time = mdmSlots.filter(slot => slot.day && slot.time).length > 0\r\n      ? mdmSlots.filter(slot => slot.day && slot.time)\r\n      : null;\r\n    const OE_DS_time = oeDsSlots.filter(slot => slot.day && slot.time).length > 0\r\n      ? oeDsSlots.filter(slot => slot.day && slot.time)\r\n      : null;\r\n    const OE_ES_time = oeEsDay && oeEsTime ? `${oeEsDay}@${oeEsTime}` : null;\r\n\r\n    try {\r\n      const res = await fetch(\"/api/admin/settings\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          days,\r\n          start_hour,\r\n          end_hour,\r\n          lunch_start_hour,\r\n          MDM_time,\r\n          \"OE-DS_time\": OE_DS_time,\r\n          \"OE-ES_time\": OE_ES_time,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setError(data.message || \"Failed to save settings\");\r\n        setSaving(false);\r\n        return;\r\n      }\r\n\r\n      setSuccess(\"Settings saved successfully!\");\r\n      setSaving(false);\r\n      setTimeout(() => setSuccess(\"\"), 3000);\r\n    } catch (err) {\r\n      setError(\"Something went wrong. Please try again.\");\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <main className=\"mx-auto max-w-4xl px-4 py-6\">\r\n        <p className=\"text-slate-600\">Loading settings...</p>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-4xl px-4 py-6\">\r\n      <h1 className=\"mb-4 text-2xl font-semibold text-slate-900\">\r\n        Timetable Settings\r\n      </h1>\r\n      <p className=\"mb-6 text-sm text-slate-600\">\r\n        Configure days, working hours, and lunch break for your institute timetable.\r\n      </p>\r\n\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"space-y-6 rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\"\r\n      >\r\n        {/* Days */}\r\n        <div className=\"space-y-2\">\r\n          <label className=\"block text-sm font-medium text-slate-700\">\r\n            Working Days\r\n          </label>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {DAY_OPTIONS.map((day) => (\r\n              <label\r\n                key={day}\r\n                className=\"flex items-center gap-2 rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-700 hover:bg-slate-50\"\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={days.includes(day)}\r\n                  onChange={() => handleDayToggle(day)}\r\n                  className=\"h-4 w-4 rounded border-[#CBD5E1] text-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                />\r\n                <span>{day}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n          <p className=\"text-xs text-slate-500\">\r\n            Select the days when classes are scheduled.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Start Hour */}\r\n        <div className=\"space-y-1.5\">\r\n          <label\r\n            htmlFor=\"start_hour\"\r\n            className=\"block text-sm font-medium text-slate-700\"\r\n          >\r\n            Start Hour\r\n          </label>\r\n          <input\r\n            id=\"start_hour\"\r\n            type=\"number\"\r\n            min={0}\r\n            max={23}\r\n            value={start_hour}\r\n            onChange={(e) => setStartHour(Number(e.target.value))}\r\n            required\r\n            className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n          />\r\n          <p className=\"text-xs text-slate-500\">\r\n            Hour when classes start (0-23, e.g., 9 for 9 AM).\r\n          </p>\r\n        </div>\r\n\r\n        {/* End Hour */}\r\n        <div className=\"space-y-1.5\">\r\n          <label\r\n            htmlFor=\"end_hour\"\r\n            className=\"block text-sm font-medium text-slate-700\"\r\n          >\r\n            End Hour\r\n          </label>\r\n          <input\r\n            id=\"end_hour\"\r\n            type=\"number\"\r\n            min={0}\r\n            max={23}\r\n            value={end_hour}\r\n            onChange={(e) => setEndHour(Number(e.target.value))}\r\n            required\r\n            className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n          />\r\n          <p className=\"text-xs text-slate-500\">\r\n            Hour when classes end (0-23, e.g., 17 for 5 PM). Must be after start hour.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Lunch Start Hour */}\r\n        <div className=\"space-y-1.5\">\r\n          <label\r\n            htmlFor=\"lunch_start_hour\"\r\n            className=\"block text-sm font-medium text-slate-700\"\r\n          >\r\n            Lunch Start Hour\r\n          </label>\r\n          <input\r\n            id=\"lunch_start_hour\"\r\n            type=\"number\"\r\n            min={0}\r\n            max={23}\r\n            value={lunch_start_hour}\r\n            onChange={(e) => setLunchStartHour(Number(e.target.value))}\r\n            required\r\n            className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n          />\r\n          <p className=\"text-xs text-slate-500\">\r\n            Hour when lunch break starts (0-23, e.g., 12 for 12 PM).\r\n          </p>\r\n        </div>\r\n\r\n        {/* Fixed Timeslot Constraints */}\r\n        <div className=\"space-y-4 border-t border-[#E5E7EB] pt-6\">\r\n          <h2 className=\"text-lg font-semibold text-slate-900\">\r\n            Fixed Timeslot Constraints\r\n          </h2>\r\n          <p className=\"text-xs text-slate-500\">\r\n            Configure fixed timeslots for specific subjects. These constraints will be sent to the algorithm.\r\n          </p>\r\n\r\n          {/* MDM */}\r\n          <div className=\"space-y-2 rounded-md border border-[#E5E7EB] p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <label className=\"block text-sm font-medium text-slate-700\">\r\n                MDM Fixed Timeslots\r\n              </label>\r\n              <button\r\n                type=\"button\"\r\n                onClick={addMdmSlot}\r\n                className=\"text-xs text-[#1A4C8B] hover:underline\"\r\n              >\r\n                + Add slot\r\n              </button>\r\n            </div>\r\n            {mdmSlots.map((slot, index) => (\r\n              <div key={index} className=\"flex gap-3 items-end\">\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-xs text-slate-600 mb-1\">Day</label>\r\n                  <select\r\n                    value={slot.day}\r\n                    onChange={(e) => updateMdmSlot(index, \"day\", e.target.value)}\r\n                    className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                  >\r\n                    <option value=\"\">Select day</option>\r\n                    {DAY_OPTIONS.map((day) => (\r\n                      <option key={day} value={day}>\r\n                        {day}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-xs text-slate-600 mb-1\">Time (e.g., 1-2)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={slot.time}\r\n                    onChange={(e) => updateMdmSlot(index, \"time\", e.target.value)}\r\n                    placeholder=\"1-2\"\r\n                    className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                  />\r\n                </div>\r\n                {mdmSlots.length > 1 && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeMdmSlot(index)}\r\n                    className=\"rounded-md border border-red-300 bg-red-50 px-3 py-2 text-xs font-medium text-red-700 hover:bg-red-100\"\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* OE-DS */}\r\n          <div className=\"space-y-2 rounded-md border border-[#E5E7EB] p-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <label className=\"block text-sm font-medium text-slate-700\">\r\n                OE-DS Fixed Timeslots\r\n              </label>\r\n              <button\r\n                type=\"button\"\r\n                onClick={addOeDsSlot}\r\n                className=\"text-xs text-[#1A4C8B] hover:underline\"\r\n              >\r\n                + Add slot\r\n              </button>\r\n            </div>\r\n            {oeDsSlots.map((slot, index) => (\r\n              <div key={index} className=\"flex gap-3 items-end\">\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-xs text-slate-600 mb-1\">Day</label>\r\n                  <select\r\n                    value={slot.day}\r\n                    onChange={(e) => updateOeDsSlot(index, \"day\", e.target.value)}\r\n                    className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                  >\r\n                    <option value=\"\">Select day</option>\r\n                    {DAY_OPTIONS.map((day) => (\r\n                      <option key={day} value={day}>\r\n                        {day}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <label className=\"block text-xs text-slate-600 mb-1\">Time (e.g., 2-3)</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={slot.time}\r\n                    onChange={(e) => updateOeDsSlot(index, \"time\", e.target.value)}\r\n                    placeholder=\"2-3\"\r\n                    className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                  />\r\n                </div>\r\n                {oeDsSlots.length > 1 && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeOeDsSlot(index)}\r\n                    className=\"rounded-md border border-red-300 bg-red-50 px-3 py-2 text-xs font-medium text-red-700 hover:bg-red-100\"\r\n                  >\r\n                    Remove\r\n                  </button>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* OE-ES */}\r\n          <div className=\"space-y-2 rounded-md border border-[#E5E7EB] p-4\">\r\n            <label className=\"block text-sm font-medium text-slate-700\">\r\n              OE-ES Fixed Timeslot\r\n            </label>\r\n            <div className=\"flex gap-3\">\r\n              <div className=\"flex-1\">\r\n                <label className=\"block text-xs text-slate-600 mb-1\">Day</label>\r\n                <select\r\n                  value={oeEsDay}\r\n                  onChange={(e) => setOeEsDay(e.target.value)}\r\n                  className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                >\r\n                  <option value=\"\">Select day</option>\r\n                  {DAY_OPTIONS.map((day) => (\r\n                    <option key={day} value={day}>\r\n                      {day}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <label className=\"block text-xs text-slate-600 mb-1\">Time (e.g., 13-14)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={oeEsTime}\r\n                  onChange={(e) => setOeEsTime(e.target.value)}\r\n                  placeholder=\"13-14\"\r\n                  className=\"block w-full rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-sm text-slate-900 outline-none ring-2 ring-transparent focus:border-[#1A4C8B] focus:ring-[#BFDBFE]\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <p className=\"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm font-medium text-red-700\">\r\n            {error}\r\n          </p>\r\n        )}\r\n\r\n        {success && (\r\n          <p className=\"rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm font-medium text-emerald-700\">\r\n            {success}\r\n          </p>\r\n        )}\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={saving}\r\n          className=\"rounded-md bg-[#1A4C8B] px-4 py-2 text-sm font-medium text-white hover:bg-blue-800 disabled:opacity-70\"\r\n        >\r\n          {saving ? \"Savingâ€¦\" : \"Save Settings\"}\r\n        </button>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}