{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/Timetable/app/manage/timetable/generate/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function GenerateTimetablePage() {\r\n  const [loadingCounts, setLoadingCounts] = useState(false);\r\n  const [generating, setGenerating] = useState(false);\r\n  const [downloadingCurrentPdf, setDownloadingCurrentPdf] = useState(false);\r\n  const [downloadingPdfId, setDownloadingPdfId] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(false);\r\n  const [timetableData, setTimetableData] = useState(null);\r\n  const [latestTimetableId, setLatestTimetableId] = useState(\"\");\r\n  const [currentDivisionForPdf, setCurrentDivisionForPdf] = useState(\"\");\r\n  const [timetables, setTimetables] = useState([]);\r\n  const [loadingTimetables, setLoadingTimetables] = useState(false);\r\n  const [timetableListError, setTimetableListError] = useState(\"\");\r\n  const [selectedDivisionById, setSelectedDivisionById] = useState({});\r\n\r\n  // Data counts for display\r\n  const [counts, setCounts] = useState({\r\n    classrooms: 0,\r\n    divisions: 0,\r\n    subjects: 0,\r\n    teachers: 0,\r\n    settings: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadCounts();\r\n    loadTimetables();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (timetableData) {\r\n      const divisionKeys = Object.keys(timetableData);\r\n      const firstDivision = divisionKeys[0] || \"\";\r\n      setCurrentDivisionForPdf(firstDivision);\r\n    } else {\r\n      setCurrentDivisionForPdf(\"\");\r\n    }\r\n  }, [timetableData]);\r\n\r\n  async function loadCounts() {\r\n    setLoadingCounts(true);\r\n    try {\r\n      const [classroomsRes, divisionsRes, subjectsRes, teachersRes, settingsRes] =\r\n        await Promise.all([\r\n          fetch(\"/api/admin/classrooms\"),\r\n          fetch(\"/api/admin/divisions\"),\r\n          fetch(\"/api/admin/subjects\"),\r\n          fetch(\"/api/admin/teachers\"),\r\n          fetch(\"/api/admin/settings\"),\r\n        ]);\r\n\r\n      const classrooms = await classroomsRes.json();\r\n      const divisions = await divisionsRes.json();\r\n      const subjects = await subjectsRes.json();\r\n      const teachers = await teachersRes.json();\r\n      const settings = await settingsRes.json();\r\n\r\n      setCounts({\r\n        classrooms: classrooms.classrooms?.length || 0,\r\n        divisions: divisions.divisions?.length || 0,\r\n        subjects: subjects.subjects?.length || 0,\r\n        teachers: teachers.teachers?.length || 0,\r\n        settings: !!settings.settings,\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Failed to load counts:\", err);\r\n    } finally {\r\n      setLoadingCounts(false);\r\n    }\r\n  }\r\n\r\n  async function loadTimetables() {\r\n    setLoadingTimetables(true);\r\n    setTimetableListError(\"\");\r\n    try {\r\n      const res = await fetch(\"/api/admin/timetable\");\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setTimetableListError(data.message || \"Failed to load timetables\");\r\n        setTimetables([]);\r\n        return;\r\n      }\r\n      const list = (data.timetables || []).map((tt) => ({\r\n        ...tt,\r\n        result: tt.result || tt.data || {},\r\n      }));\r\n      setTimetables(list);\r\n      setSelectedDivisionById((prev) => {\r\n        const next = { ...prev };\r\n        list.forEach((t) => {\r\n          if (!next[t._id]) {\r\n            next[t._id] = t.divisions?.[0] || \"\";\r\n          }\r\n        });\r\n        return next;\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Failed to load timetables:\", err);\r\n      setTimetableListError(\"Something went wrong while loading timetables.\");\r\n    } finally {\r\n      setLoadingTimetables(false);\r\n    }\r\n  }\r\n\r\n  async function handleGenerate() {\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    setTimetableData(null);\r\n    setGenerating(true);\r\n\r\n    try {\r\n      const res = await fetch(\"/api/timetable/generate\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setError(data.message || \"Failed to generate timetable\");\r\n        setGenerating(false);\r\n        return;\r\n      }\r\n\r\n      setTimetableData(data.timetable);\r\n      setLatestTimetableId(data.timetableId || \"\");\r\n      setSuccess(true);\r\n      setGenerating(false);\r\n      loadTimetables();\r\n    } catch (err) {\r\n      setError(\"Something went wrong. Please try again.\");\r\n      setGenerating(false);\r\n    }\r\n  }\r\n\r\n  async function handleDownloadCurrentPdf() {\r\n    if (!latestTimetableId || !currentDivisionForPdf) {\r\n      alert(\"Select a division before downloading the PDF.\");\r\n      return;\r\n    }\r\n    setDownloadingCurrentPdf(true);\r\n    try {\r\n      const res = await fetch(\r\n        `/api/timetable/${latestTimetableId}/pdf?division=${encodeURIComponent(\r\n          currentDivisionForPdf\r\n        )}`\r\n      );\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        alert(data.message || \"Failed to generate PDF\");\r\n        setDownloadingCurrentPdf(false);\r\n        return;\r\n      }\r\n\r\n      const blob = await res.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `timetable-${currentDivisionForPdf}.pdf`;\r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      alert(\"Failed to generate PDF. Please try again.\");\r\n    } finally {\r\n      setDownloadingCurrentPdf(false);\r\n    }\r\n  }\r\n\r\n  async function handleDownloadPastPdf(timetableId, division) {\r\n    if (!division) {\r\n      alert(\"Select a division to download the PDF.\");\r\n      return;\r\n    }\r\n    setDownloadingPdfId(timetableId);\r\n    try {\r\n      const res = await fetch(\r\n        `/api/timetable/${timetableId}/pdf?division=${encodeURIComponent(division)}`\r\n      );\r\n      if (!res.ok) {\r\n        const data = await res.json();\r\n        alert(data.message || \"Failed to generate PDF\");\r\n        setDownloadingPdfId(\"\");\r\n        return;\r\n      }\r\n      const blob = await res.blob();\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download = `timetable-${division}.pdf`;\r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n    } catch (err) {\r\n      alert(\"Failed to generate PDF. Please try again.\");\r\n    } finally {\r\n      setDownloadingPdfId(\"\");\r\n    }\r\n  }\r\n\r\n  const canGenerate =\r\n    counts.classrooms > 0 &&\r\n    counts.divisions > 0 &&\r\n    counts.subjects > 0 &&\r\n    counts.teachers > 0 &&\r\n    counts.settings;\r\n\r\n  return (\r\n    <main className=\"mx-auto max-w-6xl px-4 py-6\">\r\n      <header className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-semibold text-slate-900\">\r\n          Generate Timetable\r\n        </h1>\r\n        <p className=\"text-sm text-slate-600\">\r\n          Collect data from all sections and generate the optimal timetable using\r\n          the Python algorithm.\r\n        </p>\r\n      </header>\r\n\r\n      {/* Data Summary Cards */}\r\n      <section className=\"mb-6 grid gap-4 md:grid-cols-5\">\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.classrooms > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Classrooms\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.classrooms}\r\n          </p>\r\n          {counts.classrooms === 0 && (\r\n            <Link\r\n              href=\"/manage/classrooms/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add classrooms →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.divisions > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Divisions\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.divisions}\r\n          </p>\r\n          {counts.divisions === 0 && (\r\n            <Link\r\n              href=\"/manage/divisions/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add divisions →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.subjects > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Subjects\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.subjects}\r\n          </p>\r\n          {counts.subjects === 0 && (\r\n            <Link\r\n              href=\"/manage/subjects/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add subjects →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.teachers > 0\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Faculty\r\n          </p>\r\n          <p className=\"mt-1 text-2xl font-semibold text-slate-900\">\r\n            {counts.teachers}\r\n          </p>\r\n          {counts.teachers === 0 && (\r\n            <Link\r\n              href=\"/manage/faculty/new\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Add faculty →\r\n            </Link>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className={`rounded-lg border p-4 shadow-sm ${\r\n            counts.settings\r\n              ? \"border-emerald-200 bg-emerald-50\"\r\n              : \"border-red-200 bg-red-50\"\r\n          }`}\r\n        >\r\n          <p className=\"text-xs font-semibold uppercase tracking-wide text-slate-600\">\r\n            Settings\r\n          </p>\r\n          <p className=\"mt-1 text-sm font-semibold text-slate-900\">\r\n            {counts.settings ? \"✓ Configured\" : \"✗ Missing\"}\r\n          </p>\r\n          {!counts.settings && (\r\n            <Link\r\n              href=\"/manage/settings\"\r\n              className=\"mt-2 block text-xs text-red-700 hover:underline\"\r\n            >\r\n              Configure →\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Generate Section */}\r\n      <section className=\"rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\">\r\n        <div className=\"mb-4\">\r\n          <h2 className=\"text-lg font-semibold text-slate-900\">\r\n            Generate Timetable\r\n          </h2>\r\n          <p className=\"text-sm text-slate-600\">\r\n            This will collect all data from the sections above and send it to the\r\n            Python algorithm server to generate an optimal timetable.\r\n          </p>\r\n        </div>\r\n\r\n        {!canGenerate && (\r\n          <div className=\"mb-4 rounded-md border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800\">\r\n            <p className=\"font-medium\">\r\n              Please configure all required sections before generating the\r\n              timetable.\r\n            </p>\r\n            <ul className=\"mt-2 list-inside list-disc space-y-1 text-xs\">\r\n              {counts.classrooms === 0 && <li>Add at least one classroom</li>}\r\n              {counts.divisions === 0 && <li>Add at least one division</li>}\r\n              {counts.subjects === 0 && <li>Add at least one subject</li>}\r\n              {counts.teachers === 0 && <li>Add at least one faculty member</li>}\r\n              {!counts.settings && <li>Configure timetable settings</li>}\r\n            </ul>\r\n          </div>\r\n        )}\r\n\r\n        {error && (\r\n          <div className=\"mb-4 rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-800\">\r\n            <p className=\"font-medium\">Error</p>\r\n            <p className=\"mt-1\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {success && timetableData && (\r\n          <div className=\"mb-4 rounded-md border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800\">\r\n            <p className=\"font-medium\">Timetable generated successfully!</p>\r\n            <p className=\"mt-1 text-xs\">\r\n              The timetable has been generated and is displayed below.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleGenerate}\r\n          disabled={!canGenerate || generating}\r\n          className=\"rounded-md bg-[#1A4C8B] px-6 py-3 text-sm font-medium text-white hover:bg-blue-800 disabled:cursor-not-allowed disabled:opacity-50\"\r\n        >\r\n          {generating\r\n            ? \"Generating timetable...\"\r\n            : canGenerate\r\n              ? \"Generate Timetable\"\r\n              : \"Configure all sections first\"}\r\n        </button>\r\n      </section>\r\n\r\n      {/* Timetable Results */}\r\n      {timetableData && (\r\n        <section className=\"mt-6 rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\">\r\n          <div className=\"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-slate-900\">\r\n                Generated Timetable\r\n              </h2>\r\n              <p className=\"text-xs text-slate-600 mt-1\">\r\n                Preview the timetable by division. Rows are days, columns are time slots; each cell shows all batches.\r\n              </p>\r\n            </div>\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              <select\r\n                value={currentDivisionForPdf}\r\n                onChange={(e) => {\r\n                  const nextDivision = e.target.value;\r\n                  setCurrentDivisionForPdf(nextDivision);\r\n                }}\r\n                className=\"rounded-md border border-[#CBD5E1] bg-white px-2 py-2 text-xs text-slate-700\"\r\n              >\r\n                {Object.keys(timetableData).map((divisionKey) => (\r\n                  <option key={divisionKey} value={divisionKey}>\r\n                    {divisionKey}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleDownloadCurrentPdf}\r\n                disabled={downloadingCurrentPdf}\r\n                className=\"rounded-md bg-[#1A4C8B] px-3 py-2 text-xs font-medium text-white hover:bg-blue-800 disabled:opacity-50\"\r\n              >\r\n                {downloadingCurrentPdf ? \"Generating PDF...\" : \"Download PDF\"}\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={async () => {\r\n                  if (!latestTimetableId) {\r\n                    alert(\"Generate a timetable first.\");\r\n                    return;\r\n                  }\r\n                  const divisions = Object.keys(timetableData || {});\r\n                  if (!divisions.length) {\r\n                    alert(\"No divisions found in timetable.\");\r\n                    return;\r\n                  }\r\n                  // Sequentially download PDFs for each division\r\n                  for (const div of divisions) {\r\n                    try {\r\n                      const res = await fetch(\r\n                        `/api/timetable/${latestTimetableId}/pdf?division=${encodeURIComponent(\r\n                          div\r\n                        )}`\r\n                      );\r\n                      if (!res.ok) {\r\n                        // Skip this division on error but continue others\r\n                        // eslint-disable-next-line no-console\r\n                        console.error(\"Failed to generate PDF for\", div);\r\n                        continue;\r\n                      }\r\n                      const blob = await res.blob();\r\n                      const url = URL.createObjectURL(blob);\r\n                      const a = document.createElement(\"a\");\r\n                      a.href = url;\r\n                      a.download = `timetable-${div}.pdf`;\r\n                      a.click();\r\n                      URL.revokeObjectURL(url);\r\n                    } catch (e) {\r\n                      // eslint-disable-next-line no-console\r\n                      console.error(\"Error downloading PDF for\", div, e);\r\n                    }\r\n                  }\r\n                }}\r\n                className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50\"\r\n              >\r\n                Download all division PDFs\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  const blob = new Blob([JSON.stringify(timetableData, null, 2)], {\r\n                    type: \"application/json\",\r\n                  });\r\n                  const url = URL.createObjectURL(blob);\r\n                  const a = document.createElement(\"a\");\r\n                  a.href = url;\r\n                  a.download = \"timetable.json\";\r\n                  a.click();\r\n                  URL.revokeObjectURL(url);\r\n                }}\r\n                className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-50\"\r\n              >\r\n                Download JSON\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mt-4 overflow-x-auto rounded-md border border-[#E5E7EB] bg-white\">\r\n            {currentDivisionForPdf ? (\r\n              <table className=\"min-w-full border-collapse text-xs\">\r\n                <thead className=\"bg-[#F1F5F9] text-slate-600\">\r\n                  <tr>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center w-24\">\r\n                      Day\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      9:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      10:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      11:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      12:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-1 py-2 text-center align-middle\">\r\n                      <span\r\n                        className=\"inline-block text-[11px] font-semibold\"\r\n                        style={{ writingMode: \"vertical-rl\", transform: \"rotate(180deg)\" }}\r\n                      >\r\n                        LUNCH BREAK\r\n                      </span>\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      1:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      2:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      3:00\r\n                    </th>\r\n                    <th className=\"border border-[#CBD5E1] px-3 py-2 text-center\">\r\n                      4:00\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"text-slate-800\">\r\n                  {(() => {\r\n                    const divisionData = timetableData[currentDivisionForPdf] || {};\r\n                    const batchKeys = Object.keys(divisionData);\r\n                    if (!batchKeys.length) return null;\r\n\r\n                    const firstBatchSchedule = divisionData[batchKeys[0]] || {};\r\n                    const dayKeys = Object.keys(firstBatchSchedule);\r\n\r\n                    const columns = [\r\n                      { label: \"9:00\", periodIndex: 0 },\r\n                      { label: \"10:00\", periodIndex: 1 },\r\n                      { label: \"11:00\", periodIndex: 2 },\r\n                      { label: \"12:00\", periodIndex: 3 },\r\n                      { label: \"LUNCH BREAK\", periodIndex: null, isLunchColumn: true },\r\n                      { label: \"1:00\", periodIndex: 4 },\r\n                      { label: \"2:00\", periodIndex: 5 },\r\n                      { label: \"3:00\", periodIndex: 6 },\r\n                      { label: \"4:00\", periodIndex: 7 },\r\n                    ];\r\n\r\n                    return dayKeys.map((day) => (\r\n                      <tr key={day}>\r\n                        <td className=\"border border-[#CBD5E1] px-3 py-2 font-semibold bg-[#F8FAFC] text-center\">\r\n                          {day}\r\n                        </td>\r\n                        {(() => {\r\n                          const tds = [];\r\n                          for (let colIndex = 0; colIndex < columns.length; colIndex++) {\r\n                            const col = columns[colIndex];\r\n\r\n                            if (col.isLunchColumn) {\r\n                              tds.push(\r\n                                <td\r\n                                  key={`lunch-${colIndex}`}\r\n                                  className=\"border border-[#CBD5E1] px-1 py-2 bg-amber-50\"\r\n                                />\r\n                              );\r\n                              continue;\r\n                            }\r\n\r\n                            const idx = col.periodIndex;\r\n\r\n                            const slotsForColumn = batchKeys.map((batchKey) => {\r\n                              const batchSchedule = divisionData[batchKey] || {};\r\n                              const slotsForDay = Array.isArray(batchSchedule[day])\r\n                                ? batchSchedule[day]\r\n                                : [];\r\n                              const slot =\r\n                                Array.isArray(slotsForDay) && idx != null\r\n                                  ? slotsForDay[idx]\r\n                                  : null;\r\n                              return { batchKey, slot };\r\n                            });\r\n\r\n                            const normalized = slotsForColumn.map(\r\n                              ({ batchKey, slot }) => {\r\n                                if (!slot || typeof slot !== \"object\") {\r\n                                  return { batchKey, slot: null, type: \"\", cls: \"\" };\r\n                                }\r\n                                const type = slot.type\r\n                                  ? String(slot.type).toUpperCase()\r\n                                  : \"\";\r\n                                const cls = slot.class\r\n                                  ? String(slot.class).toUpperCase()\r\n                                  : \"\";\r\n                                return { batchKey, slot, type, cls };\r\n                              }\r\n                            );\r\n\r\n                            const hasLunch = normalized.some(\r\n                              ({ cls }) => cls === \"LUNCH\"\r\n                            );\r\n                            const allFreeOrEmpty = normalized.every(\r\n                              ({ slot, type }) => {\r\n                                if (!slot || !Object.keys(slot).length) return true;\r\n                                return type === \"FREE\";\r\n                              }\r\n                            );\r\n\r\n                            // LUNCH overrides everything\r\n                            if (hasLunch) {\r\n                              tds.push(\r\n                                <td\r\n                                  key={`col-${colIndex}`}\r\n                                  className=\"border border-[#CBD5E1] px-2 py-2 align-middle text-center bg-amber-50\"\r\n                                >\r\n                                  <span className=\"text-[11px] font-semibold text-amber-700\">\r\n                                    LUNCH\r\n                                  </span>\r\n                                </td>\r\n                              );\r\n                              continue;\r\n                            }\r\n\r\n                            // Try to detect 2-hour LAB block starting at this column\r\n                            const nextCol = columns[colIndex + 1];\r\n                            let handledSpan = false;\r\n                            if (\r\n                              nextCol &&\r\n                              !nextCol.isLunchColumn &&\r\n                              typeof nextCol.periodIndex === \"number\" &&\r\n                              typeof idx === \"number\" &&\r\n                              nextCol.periodIndex === idx + 1\r\n                            ) {\r\n                              const idxNext = nextCol.periodIndex;\r\n                              const hasSpanningLab = batchKeys.some((batchKey) => {\r\n                                const batchSchedule = divisionData[batchKey] || {};\r\n                                const slotsForDay = Array.isArray(batchSchedule[day])\r\n                                  ? batchSchedule[day]\r\n                                  : [];\r\n                                const curr =\r\n                                  Array.isArray(slotsForDay) && idx != null\r\n                                    ? slotsForDay[idx]\r\n                                    : null;\r\n                                const next =\r\n                                  Array.isArray(slotsForDay) && idxNext != null\r\n                                    ? slotsForDay[idxNext]\r\n                                    : null;\r\n\r\n                                if (!curr || !next) return false;\r\n                                if (\r\n                                  typeof curr !== \"object\" ||\r\n                                  typeof next !== \"object\"\r\n                                ) {\r\n                                  return false;\r\n                                }\r\n\r\n                                const currType = curr.type\r\n                                  ? String(curr.type).toUpperCase()\r\n                                  : \"\";\r\n                                const nextType = next.type\r\n                                  ? String(next.type).toUpperCase()\r\n                                  : \"\";\r\n\r\n                                if (currType !== \"LAB\" || nextType !== \"LAB\")\r\n                                  return false;\r\n\r\n                                const currClass = curr.class || \"\";\r\n                                const nextClass = next.class || \"\";\r\n                                const currTeacher = curr.teacher || \"\";\r\n                                const nextTeacher = next.teacher || \"\";\r\n\r\n                                return (\r\n                                  currClass === nextClass &&\r\n                                  currTeacher === nextTeacher\r\n                                );\r\n                              });\r\n\r\n                              if (hasSpanningLab) {\r\n                                const labLines = batchKeys\r\n                                  .map((batchKey) => {\r\n                                    const batchSchedule =\r\n                                      divisionData[batchKey] || {};\r\n                                    const slotsForDay =\r\n                                      Array.isArray(batchSchedule[day])\r\n                                        ? batchSchedule[day]\r\n                                        : [];\r\n                                    const curr =\r\n                                      Array.isArray(slotsForDay) && idx != null\r\n                                        ? slotsForDay[idx]\r\n                                        : null;\r\n                                    const next =\r\n                                      Array.isArray(slotsForDay) &&\r\n                                      nextCol.periodIndex != null\r\n                                        ? slotsForDay[nextCol.periodIndex]\r\n                                        : null;\r\n\r\n                                    if (!curr || !next) return null;\r\n                                    if (\r\n                                      typeof curr !== \"object\" ||\r\n                                      typeof next !== \"object\"\r\n                                    ) {\r\n                                      return null;\r\n                                    }\r\n\r\n                                    const currType = curr.type\r\n                                      ? String(curr.type).toUpperCase()\r\n                                      : \"\";\r\n                                    const nextType = next.type\r\n                                      ? String(next.type).toUpperCase()\r\n                                      : \"\";\r\n\r\n                                    if (currType !== \"LAB\" || nextType !== \"LAB\")\r\n                                      return null;\r\n\r\n                                    const currClass = curr.class || \"\";\r\n                                    const nextClass = next.class || \"\";\r\n                                    const currTeacher = curr.teacher || \"\";\r\n                                    const nextTeacher = next.teacher || \"\";\r\n\r\n                                    if (\r\n                                      currClass !== nextClass ||\r\n                                      currTeacher !== nextTeacher\r\n                                    ) {\r\n                                      return null;\r\n                                    }\r\n\r\n                                    const parts = [];\r\n                                    if (curr.teacher)\r\n                                      parts.push(String(curr.teacher));\r\n                                    if (curr.room) parts.push(String(curr.room));\r\n                                    const suffix =\r\n                                      parts.length > 0\r\n                                        ? ` (${parts.join(\" \")})`\r\n                                        : \"\";\r\n                                    const text = `${batchKey}: ${curr.class || \"\"}${suffix}`.trim();\r\n\r\n                                    return (\r\n                                      <div\r\n                                        key={batchKey}\r\n                                        className=\"text-[11px] leading-tight text-green-700\"\r\n                                      >\r\n                                        {text}\r\n                                      </div>\r\n                                    );\r\n                                  })\r\n                                  .filter(Boolean);\r\n\r\n                                tds.push(\r\n                                  <td\r\n                                    key={`col-${colIndex}`}\r\n                                    colSpan={2}\r\n                                    className=\"border border-[#CBD5E1] px-2 py-2 align-top text-center bg-green-50\"\r\n                                  >\r\n                                    {labLines.length > 0 ? (\r\n                                      <div className=\"space-y-0.5\">{labLines}</div>\r\n                                    ) : (\r\n                                      <span className=\"text-[10px] text-slate-300\">\r\n                                        &nbsp;\r\n                                      </span>\r\n                                    )}\r\n                                  </td>\r\n                                );\r\n                                handledSpan = true;\r\n                                colIndex++; // skip next column\r\n                              }\r\n                            }\r\n\r\n                            if (handledSpan) {\r\n                              continue;\r\n                            }\r\n\r\n                            if (allFreeOrEmpty) {\r\n                              tds.push(\r\n                                <td\r\n                                  key={`col-${colIndex}`}\r\n                                  className=\"border border-[#CBD5E1] px-2 py-2 align-top text-center\"\r\n                                >\r\n                                  <span className=\"text-[10px] text-slate-300\">\r\n                                    &nbsp;\r\n                                  </span>\r\n                                </td>\r\n                              );\r\n                              continue;\r\n                            }\r\n\r\n                            const lectureSlots = normalized.filter(\r\n                              ({ slot, type }) =>\r\n                                slot &&\r\n                                type === \"LECTURE\" &&\r\n                                (slot.class || slot.teacher || slot.room)\r\n                            );\r\n\r\n                            let content = null;\r\n\r\n                            if (lectureSlots.length > 0) {\r\n                              const { slot } = lectureSlots[0];\r\n                              const parts = [];\r\n                              if (slot.teacher) parts.push(String(slot.teacher));\r\n                              if (slot.room) parts.push(String(slot.room));\r\n                              const suffix =\r\n                                parts.length > 0 ? ` (${parts.join(\" \")})` : \"\";\r\n                              const text = `${slot.class || \"\"}${suffix}`.trim();\r\n                              content = (\r\n                                <div className=\"text-[11px] leading-tight text-blue-700\">\r\n                                  {text}\r\n                                </div>\r\n                              );\r\n                            } else {\r\n                              const labSlots = normalized.filter(\r\n                                ({ slot, type }) =>\r\n                                  slot &&\r\n                                  type === \"LAB\" &&\r\n                                  (slot.class || slot.teacher || slot.room)\r\n                              );\r\n\r\n                              if (labSlots.length > 0) {\r\n                                content = (\r\n                                  <div className=\"space-y-0.5\">\r\n                                    {labSlots.map(({ batchKey, slot }) => {\r\n                                      const parts = [];\r\n                                      if (slot.teacher)\r\n                                        parts.push(String(slot.teacher));\r\n                                      if (slot.room) parts.push(String(slot.room));\r\n                                      const suffix =\r\n                                        parts.length > 0\r\n                                          ? ` (${parts.join(\" \")})`\r\n                                          : \"\";\r\n                                      const text = `${batchKey}: ${slot.class || \"\"}${suffix}`.trim();\r\n                                      return (\r\n                                        <div\r\n                                          key={batchKey}\r\n                                          className=\"text-[11px] leading-tight text-green-700\"\r\n                                        >\r\n                                          {text}\r\n                                        </div>\r\n                                      );\r\n                                    })}\r\n                                  </div>\r\n                                );\r\n                              } else {\r\n                                const nonFree = normalized.filter(\r\n                                  ({ slot, type }) =>\r\n                                    slot &&\r\n                                    type !== \"FREE\" &&\r\n                                    (slot.class || slot.teacher || slot.room)\r\n                                );\r\n                                if (nonFree.length > 0) {\r\n                                  const { slot } = nonFree[0];\r\n                                  const parts = [];\r\n                                  if (slot.teacher)\r\n                                    parts.push(String(slot.teacher));\r\n                                  if (slot.room) parts.push(String(slot.room));\r\n                                  const suffix =\r\n                                    parts.length > 0 ? ` (${parts.join(\" \")})` : \"\";\r\n                                  const text = `${slot.class || \"\"}${suffix}`.trim();\r\n                                  content = (\r\n                                    <div className=\"text-[11px] leading-tight text-blue-700\">\r\n                                      {text}\r\n                                    </div>\r\n                                  );\r\n                                }\r\n                              }\r\n                            }\r\n\r\n                            tds.push(\r\n                              <td\r\n                                key={`col-${colIndex}`}\r\n                                className=\"border border-[#CBD5E1] px-2 py-2 align-top text-center\"\r\n                              >\r\n                                {content || (\r\n                                  <span className=\"text-[10px] text-slate-300\">\r\n                                    &nbsp;\r\n                                  </span>\r\n                                )}\r\n                              </td>\r\n                            );\r\n                          }\r\n                          return tds;\r\n                        })()}\r\n                      </tr>\r\n                    ));\r\n                  })()}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <div className=\"p-4 text-xs text-slate-500\">\r\n                Select a division to preview the timetable.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Past Timetables */}\r\n      <section className=\"mt-8 rounded-lg bg-white p-6 shadow-sm ring-1 ring-[#E5E7EB]\">\r\n        <div className=\"mb-4 flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold text-slate-900\">Past Timetables</h2>\r\n            <p className=\"text-sm text-slate-600\">\r\n              Review and download previously generated timetables.\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={loadTimetables}\r\n            className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-2 text-xs font-medium text-slate-700 hover:bg-slate-100\"\r\n          >\r\n            Refresh list\r\n          </button>\r\n        </div>\r\n\r\n        {timetableListError && (\r\n          <p className=\"mb-3 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700\">\r\n            {timetableListError}\r\n          </p>\r\n        )}\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full text-left text-sm\">\r\n            <thead className=\"border-b border-[#E5E7EB] bg-[#F8FAFC] text-xs font-medium text-slate-600\">\r\n              <tr>\r\n                <th className=\"px-3 py-2\">Generated on</th>\r\n                <th className=\"px-3 py-2\">Divisions</th>\r\n                <th className=\"px-3 py-2\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-[#E5E7EB]\">\r\n              {loadingTimetables ? (\r\n                <tr>\r\n                  <td colSpan={3} className=\"px-3 py-4 text-center text-sm text-slate-500\">\r\n                    Loading timetables…\r\n                  </td>\r\n                </tr>\r\n              ) : timetables.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan={3} className=\"px-3 py-4 text-center text-sm text-slate-500\">\r\n                    No timetables generated yet.\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                timetables.map((tt) => (\r\n                  <tr key={tt._id}>\r\n                    <td className=\"px-3 py-2 text-slate-900\">\r\n                      {new Date(tt.generatedAt || tt.createdAt).toLocaleString()}\r\n                    </td>\r\n                    <td className=\"px-3 py-2 text-slate-700\">\r\n                      <div className=\"flex flex-wrap gap-1 text-xs\">\r\n                        {(tt.divisions || []).map((div) => (\r\n                          <span\r\n                            key={div}\r\n                            className=\"rounded-full bg-slate-100 px-2 py-0.5 text-slate-700\"\r\n                          >\r\n                            {div}\r\n                          </span>\r\n                        ))}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-3 py-2 text-xs text-slate-700\">\r\n                      <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n                        <select\r\n                          value={selectedDivisionById[tt._id] || \"\"}\r\n                          onChange={(e) =>\r\n                            setSelectedDivisionById((prev) => ({\r\n                              ...prev,\r\n                              [tt._id]: e.target.value,\r\n                            }))\r\n                          }\r\n                          className=\"rounded-md border border-[#CBD5E1] bg-white px-2 py-1 text-xs text-slate-900\"\r\n                        >\r\n                          <option value=\"\">Select division</option>\r\n                          {(tt.divisions || []).map((div) => (\r\n                            <option key={div} value={div}>\r\n                              {div}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() =>\r\n                            handleDownloadPastPdf(tt._id, selectedDivisionById[tt._id])\r\n                          }\r\n                          disabled={downloadingPdfId === tt._id}\r\n                          className=\"rounded-md bg-[#1A4C8B] px-3 py-1.5 text-white hover:bg-blue-800 disabled:opacity-60\"\r\n                        >\r\n                          {downloadingPdfId === tt._id ? \"Preparing…\" : \"Download PDF\"}\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => {\r\n                            const blob = new Blob(\r\n                              [\r\n                                JSON.stringify(\r\n                                  tt.result || tt.data || {},\r\n                                  null,\r\n                                  2\r\n                                ),\r\n                              ],\r\n                              { type: \"application/json\" }\r\n                            );\r\n                            const url = URL.createObjectURL(blob);\r\n                            const a = document.createElement(\"a\");\r\n                            a.href = url;\r\n                            a.download = `timetable-${tt._id}.json`;\r\n                            a.click();\r\n                            URL.revokeObjectURL(url);\r\n                          }}\r\n                          className=\"rounded-md border border-[#CBD5E1] bg-white px-3 py-1.5 text-slate-700 hover:bg-slate-50\"\r\n                        >\r\n                          Download JSON\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}